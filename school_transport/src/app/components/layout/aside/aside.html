<!-- Wrapper del panel (ceñido al contenedor del <aside> padre) -->
<div id="sidebar-menu"
  class="h-full w-70 flex flex-col overflow-hidden rounded-xl 
         bg-gradient-to-br from-gray-800 to-gray-900 text-white shadow-inner mt-0">
  <!-- Logo + título -->
  <div class="border-b border-white/20">
    <div class="px-4 pt-4">
      <img src="logo3.png" alt="Logo" class="w-[180px] h-auto cursor-pointer" [routerLink]="['/']"/>
    </div>
    <a class="flex items-center gap-3 py-4 px-5 cursor-pointer hover:bg-white/5" [routerLink]="['/']">
      <h6 class="text-base font-semibold leading-relaxed">Panel de Administración</h6>
    </a>
  </div>

  <!-- Menú con scroll interno -->
  <nav class="py-2 flex-1 min-h-0 overflow-y-auto">
    <ul class="flex flex-col gap-1">
      @for (item of items; track trackByLabel) {
        <li>
          <!-- Grupo primer nivel -->
          <div
            class="flex items-center gap-3 px-4 py-3 text-white/90 hover:text-white hover:bg-white/5
                   cursor-pointer select-none"
            (click)="toggleSubmenu(item)">
            <i [class]="item.icon"></i>
            <span class="flex-1 font-medium">{{ item.label }}</span>
            <i class="pi pi-chevron-right transition-transform duration-200"
               [class.rotate-90]="item.expanded"></i>
          </div>

          @if (item.items?.length) {
            <ul class="ml-3 border-l border-white/10" [class.hidden]="!item.expanded">
              @for (sub of item.items; track trackByLabel) {
                <li>
                  <a
                    [routerLink]="sub.routerLink"
                    class="flex items-center gap-3 px-5 py-2.5 text-white/80 hover:text-white hover:bg-white/10 rounded-md"
                    [class.bg-white/10]="isActive(sub.routerLink)"
                  >
                    <i [class]="sub.icon"></i>
                    <span class="flex-1">{{ sub.label }}</span>
                  </a>
                </li>
              }
            </ul>
          }
        </li>
      }
    </ul>
  </nav>
  <div class="h-2"></div>
</div>
