<div class="card">
  <div class="header">
    <h2>Crear Ruta</h2>

    <div class="header-actions">
      <!-- Ir al listado si quieres -->
      <a class="btn" [routerLink]="['/mostrar-rutas']" title="Volver al listado">Volver</a>
    </div>
  </div>

  <!-- ✅ Señal afirmativa -->
  <div class="ok-banner" *ngIf="creado">
    <span class="icon">✅</span> Ruta creada correctamente
  </div>

  <form #f="ngForm" (ngSubmit)="crear(f)" novalidate class="form-grid">
    <div class="form-field">
      <label for="id">ID</label>
      <input id="id" name="id" type="text" [(ngModel)]="ruta.id" required />
      <small class="err" *ngIf="f.submitted && !ruta.id">Requerido</small>
    </div>

    <div class="form-field">
      <label for="nombre">Nombre</label>
      <input id="nombre" name="nombre" type="text" [(ngModel)]="ruta.nombre" required />
      <small class="err" *ngIf="f.submitted && !ruta.nombre">Requerido</small>
    </div>

    <div class="form-field">
      <label for="origen">Origen</label>
      <input id="origen" name="origen" type="text" [(ngModel)]="ruta.origen" required />
      <small class="err" *ngIf="f.submitted && !ruta.origen">Requerido</small>
    </div>

    <div class="form-field">
      <label for="destino">Destino</label>
      <input id="destino" name="destino" type="text" [(ngModel)]="ruta.destino" required />
      <small class="err" *ngIf="f.submitted && !ruta.destino">Requerido</small>
    </div>

    <div class="form-field">
      <label for="horaSalida">Hora de salida</label>
      <input id="horaSalida" name="horaSalida" type="time" [(ngModel)]="ruta.horaSalida" required />
      <small class="err" *ngIf="f.submitted && !ruta.horaSalida">Requerido</small>
    </div>

    <div class="form-field">
      <label for="bus">Bus</label>
      <input id="bus" name="bus" type="text" [(ngModel)]="ruta.bus" required />
      <small class="err" *ngIf="f.submitted && !ruta.bus">Requerido</small>
    </div>

    <div class="form-field">
      <label for="conductor">Conductor</label>
      <input id="conductor" name="conductor" type="text" [(ngModel)]="ruta.conductor" required />
      <small class="err" *ngIf="f.submitted && !ruta.conductor">Requerido</small>
    </div>

    <div class="form-field">
      <label for="cupos">Cupos</label>
      <input id="cupos" name="cupos" type="number" min="0" [(ngModel)]="ruta.cupos" required />
      <small class="err" *ngIf="f.submitted && (ruta.cupos === null || ruta.cupos === undefined)">Requerido</small>
    </div>

    <div class="form-field">
      <label for="estado">Estado</label>
      <select id="estado" name="estado" [(ngModel)]="ruta.estado" required>
        <option *ngFor="let e of estados" [ngValue]="e">{{ e }}</option>
      </select>
      <small class="err" *ngIf="f.submitted && !ruta.estado">Requerido</small>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="f.invalid" [routerLink]="['/mostrar-rutas']">Crear</button>
      <button type="reset" class="btn">Limpiar</button>
    </div>
  </form>
</div>
